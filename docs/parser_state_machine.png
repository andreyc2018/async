<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="531px" preserveAspectRatio="none" style="width:592px;height:531px;" version="1.1" viewBox="0 0 592 531" width="592px" zoomAndPan="magnify"><defs><filter height="300%" id="f16o6tq2tajvj" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="274.5" cy="18" fill="#000000" filter="url(#f16o6tq2tajvj)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f16o6tq2tajvj)" height="50.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="163" x="193" y="89"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="193" x2="356" y1="115.2969" y2="115.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="227" y="106.9951">StartingBlock</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="143" x="198" y="131.4355">expecting "{" or "cmd"</text><rect fill="#FEFECE" filter="url(#f16o6tq2tajvj)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="234" x="14.5" y="216"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="14.5" x2="248.5" y1="242.2969" y2="242.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="214" x="24.5" y="233.9951">ExpectingDynamicCommands</text><rect fill="#FEFECE" filter="url(#f16o6tq2tajvj)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="211" x="284" y="216"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="284" x2="495" y1="242.2969" y2="242.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="191" x="294" y="233.9951">ExpectingStaticCommands</text><rect fill="#FEFECE" filter="url(#f16o6tq2tajvj)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="193" x="6" y="343"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="6" x2="199" y1="369.2969" y2="369.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="173" x="16" y="360.9951">CollectingDynamicBlock</text><rect fill="#FEFECE" filter="url(#f16o6tq2tajvj)" height="50.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="262" x="226.5" y="470"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="226.5" x2="488.5" y1="496.2969" y2="496.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="319" y="487.9951">DoneBlock</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="242" x="231.5" y="512.4355">notifes processor about command block</text><rect fill="#FEFECE" filter="url(#f16o6tq2tajvj)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="170" x="304.5" y="343"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="304.5" x2="474.5" y1="369.2969" y2="369.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="150" x="314.5" y="360.9951">CollectingStaticBlock</text><!--link *start to StartingBlock--><path d="M274.5,28.2737 C274.5,41.3608 274.5,64.5555 274.5,83.5207 " fill="none" id="*start-StartingBlock" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="274.5,88.7458,278.5,79.7458,274.5,83.7458,270.5,79.7458,274.5,88.7458" style="stroke: #A80036; stroke-width: 1.0;"/><!--link StartingBlock to ExpectingDynamicCommands--><path d="M220.1173,139.2668 C205.6352,147.5057 190.6545,157.5314 178.5,169 C165.7215,181.0573 154.7585,197.2465 146.6426,211.2197 " fill="none" id="StartingBlock-ExpectingDynamicCommands" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="144.0009,215.8644,151.9274,210.0188,146.4729,211.5182,144.9735,206.0637,144.0009,215.8644" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="20" x="179.5" y="182.0669">"{"</text><!--link ExpectingDynamicCommands to StartingBlock--><path d="M167.2672,215.7613 C179.4037,206.7544 192.8354,196.2841 204.5,186 C219.6807,172.6159 235.4876,156.565 248.2311,143.018 " fill="none" id="ExpectingDynamicCommands-StartingBlock" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="251.7412,139.2678,242.6708,143.1054,248.3245,142.9183,248.5116,148.5721,251.7412,139.2678" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="20" x="224.5" y="182.0669">"}"</text><!--link StartingBlock to ExpectingStaticCommands--><path d="M297.2203,139.0911 C316.2788,160.1383 343.5029,190.2032 363.4424,212.2234 " fill="none" id="StartingBlock-ExpectingStaticCommands" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="366.8269,215.961,363.7509,206.6048,363.4708,212.2547,357.8209,211.9746,366.8269,215.961" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="339.5" y="182.0669">"cmd"</text><!--link ExpectingDynamicCommands to CollectingDynamicBlock--><path d="M125.7705,266.0911 C121.0638,286.7035 114.3821,315.9647 109.385,337.8484 " fill="none" id="ExpectingDynamicCommands-CollectingDynamicBlock" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="108.2176,342.961,114.1209,335.0774,109.3307,338.0865,106.3216,333.2964,108.2176,342.961" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="120.5" y="309.0669">"cmd"</text><!--link CollectingDynamicBlock to CollectingDynamicBlock--><path d="M199.1208,356.7668 C219.3921,357.9285 234,361.6729 234,368 C234,373.7834 221.795,377.4089 204.2159,378.8765 " fill="none" id="CollectingDynamicBlock-CollectingDynamicBlock" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="199.1208,379.2332,208.3782,382.5947,204.1086,378.8839,207.8194,374.6143,199.1208,379.2332" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="240" y="372.5669">"cmd"</text><!--link CollectingDynamicBlock to DoneBlock--><path d="M152.8798,393.0911 C196.1004,414.6167 258.2597,445.5744 302.7093,467.7121 " fill="none" id="CollectingDynamicBlock-DoneBlock" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="307.2249,469.961,300.9521,462.3681,302.7493,467.7319,297.3855,469.5291,307.2249,469.961" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="20" x="246.5" y="436.0669">"}"</text><!--link ExpectingStaticCommands to CollectingStaticBlock--><path d="M389.5,266.0911 C389.5,286.7035 389.5,315.9647 389.5,337.8484 " fill="none" id="ExpectingStaticCommands-CollectingStaticBlock" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="389.5,342.961,393.5,333.961,389.5,337.961,385.5,333.961,389.5,342.961" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="390.5" y="309.0669">"cmd"</text><!--link CollectingStaticBlock to CollectingStaticBlock--><path d="M474.7085,356.6049 C494.7295,357.5415 509.5,361.3398 509.5,368 C509.5,374.0878 497.1591,377.7845 479.7478,379.0902 " fill="none" id="CollectingStaticBlock-CollectingStaticBlock" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="474.7085,379.3951,483.9337,382.8442,479.6994,379.0931,483.4505,374.8588,474.7085,379.3951" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="515.5" y="372.5669">"cmd"</text><!--link CollectingStaticBlock to DoneBlock--><path d="M369.3191,393.0965 C363.3378,402.0101 357.5695,412.4593 354.5,423 C350.6092,436.3614 350.6659,451.705 351.9743,464.7855 " fill="none" id="CollectingStaticBlock-DoneBlock" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="352.5552,469.8651,355.5066,460.4689,351.9871,464.8975,347.5584,461.3779,352.5552,469.8651" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="215" x="355.5" y="436.0669">block_is_full || "{" || empty_input</text><!--link DoneBlock to StartingBlock--><path d="M488.6281,475.7072 C527.7973,467.0974 563.5358,455.3575 575.5,440 C580.1434,434.0397 576.1079,430.5311 575.5,423 C567.7625,327.1453 579.4783,285.0065 512.5,216 C471.7801,174.047 411.0082,148.3952 361.0676,133.3094 " fill="none" id="DoneBlock-StartingBlock" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="356.2695,131.8823,363.7555,138.2823,361.062,133.3079,366.0364,130.6144,356.2695,131.8823" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml

[*] - -> StartingBlock
StartingBlock : expecting "{" or "cmd"
StartingBlock - -> ExpectingDynamicCommands : "{"
StartingBlock - -> ExpectingStaticCommands : "cmd"
ExpectingDynamicCommands - -> StartingBlock : "}"
ExpectingDynamicCommands - -> CollectingDynamicBlock : "cmd"
CollectingDynamicBlock - -> CollectingDynamicBlock : "cmd"
CollectingDynamicBlock - -> DoneBlock : "}"

ExpectingStaticCommands - -> CollectingStaticBlock : "cmd"
CollectingStaticBlock - -> CollectingStaticBlock : "cmd"
CollectingStaticBlock - -> DoneBlock : block_is_full || "{" || empty_input

DoneBlock : notifes processor about command block
DoneBlock - -> StartingBlock

@enduml

PlantUML version 1.2018.00(Thu Jan 04 14:42:56 EST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_161-b14
Operating System: Linux
OS Version: 4.15.9-300.fc27.x86_64
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>